{% extends "layout.html" %}

{% block title %}Search Results{% endblock %}

{% block content %}
<div class="search-results">
    <h2>Search Results for "{{ query }}"</h2>
    
    {% if recipes %}
    <div class="recipe-grid">
        {% for recipe in recipes %}
        <div class="recipe-card" onclick="window.location='{{ url_for('recipe_views.recipe_details_page', recipe_id=recipe.id) }}'">
            <div class="recipe-image">
                {% if recipe.image %}
                <img src="{{ recipe.image }}" alt="{{ recipe.title }}">
                {% else %}
                <div class="no-image">No Image</div>
                {% endif %}
            </div>
            <div class="recipe-info">
                <h3>{{ recipe.title }}</h3>
                <p class="description">{{ recipe.description|truncate(100) }}</p>
                <div class="meta">
                    <span class="ingredients">{{ recipe.get_ingredients()|length }} ingredients</span>
                    <span class="time">{{ recipe.cook_time }}</span>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-results">No recipes found matching "{{ query }}"</p>
    {% endif %}
</div>

<style>
    .search-results {
        padding: 20px;
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .recipe-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
    }
    
    .recipe-card {
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.2s;
    }
    
    .recipe-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    }
    
    .recipe-image {
        height: 200px;
        background-color: #f5f5f5;
        overflow: hidden;
    }
    
    .recipe-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .no-image {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        color: #777;
    }
    
    .recipe-info {
        padding: 15px;
    }
    
    .recipe-info h3 {
        margin: 0 0 10px 0;
        color: #333;
    }
    
    .description {
        color: #666;
        margin-bottom: 15px;
    }
    
    .meta {
        display: flex;
        justify-content: space-between;
        color: #888;
        font-size: 0.9em;
    }
    
    .no-results {
        text-align: center;
        padding: 40px;
        color: #666;
    }
</style>
{% endblock %}